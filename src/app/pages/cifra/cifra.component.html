<div class="mb-4">

    <div class="mb-4">
        <label for="chave" class="form-label">Chave</label>
        <div class="input-group mb-1">
            <input type="text" class="form-control" id="chave" [(ngModel)]="chave" autocapitalize="off" required (change)="onChangeChave()">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Gerar</button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" (click)="gerarChaveAleatoria()">Chave aleat√≥ria</a></li>
                <li><a class="dropdown-item" (click)="gerarChaveComPalavraAleatoria()">Palavra aleat√≥ria</a></li>
                <li><a class="dropdown-item" (click)="gerarChaveComFraseAleatoria()">Frase aleat√≥ria</a></li>
            </ul>
        </div>
        <p><a *ngIf="canSaveValueOnClipboard && chave.trim()" (click)="copiarChave()">Copiar chave</a></p>
    </div>

    <div class="mb-4">
        <label for="mensagem" class="form-label">Mensagem</label>
        <textarea class="form-control" id="mensagem" rows="10" [(ngModel)]="mensagem" required (change)="onChangeMensagem()"></textarea>
        <div class="row">
            <div class="col"><p><a *ngIf="canReadValueFromClipboard" (click)="colarTexto()">Colar texto</a></p></div>
            <div class="col"><p class="text-end">{{ mensagem.length > 0 ? mensagem.length : '' }}</p></div>
        </div>
    </div>

    <div class="mb-4">
        <label for="modo" class="form-label">Modo de criptografia</label>
        <div class="mb-1">
            <div class="form-check" *ngFor="let modo of modoArray">
                <input class="form-check-input" type="radio" name="modo" id="" [(ngModel)]="modoSelecionado" [value]="modo" (click)="onChangeModo()">
                <label class="form-check-label" for="">
                    {{ modo }}
                    <a type="button" data-bs-toggle="modal" data-bs-target="#modalModoCompleto"><span *ngIf="modo == 'Completo'" class="badge rounded-pill bg-secondary">?</span></a>
                </label>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <button type="button" class="btn btn-primary me-2 mt-2" (click)="criptografar()">Criptografar</button>
            <button type="button" class="btn btn-outline-primary me-2 mt-2" (click)="descriptografar()">Descriptografar</button>
        </div>
        <div class="col text-end">
            <button type="button" class="btn btn-outline-secondary mt-2" (click)="limpar()">Limpar</button>
        </div>
    </div>
</div>

<div class="alert alert-warning alert-dismissible fade show" role="alert" *ngFor="let alert of waringAlerts">
    {{ alert }}
    <button type="button" class="btn-close" (click)="closeAlert(alert)"></button>
</div>
<div class="alert alert-danger alert-dismissible fade show" role="alert" *ngFor="let alert of dangerAlerts">
    {{ alert }}
    <button type="button" class="btn-close" (click)="closeAlert(alert)"></button>
</div>
<div class="alert alert-primary alert-dismissible fade show" role="alert" *ngFor="let alert of infoAlerts">
    {{ alert }}
    <button type="button" class="btn-close" (click)="closeAlert(alert)"></button>
</div>

<text-block content="{{ resultado }}"></text-block>


<div style="margin-top: 100px;">
    <h4>Leia sobre a Cifra de Vigen√®re</h4>
    <ul class="list-unstyled">
        <li><a routerLink="/artigo" fragment="oque-e-a-cifra-de-vigenere">Oque √© a cifra de Vigenere</a></li>
        <li><a routerLink="/artigo" fragment="a-cifra-de-cesar">A cifra de C√©sar</a></li>
        <li><a routerLink="/artigo" fragment="cifra-de-vigenere-na-pratica">Cifra de Vigenere na pr√°tica</a></li>
        <li><a routerLink="/artigo" fragment="quem-foi-vigenere">Quem foi Vigen√®re</a></li>
        <li>
            <a routerLink="/artigo" fragment="a-matematica-da-cifra-de-vigenere">A matem√°tica da cifra de vigenere</a>
            <ul>
                <li><a routerLink="/artigo" fragment="a-equacao-da-criptografia">A equa√ß√£o da criptografia</a></li>
                <li><a routerLink="/artigo" fragment="a-equacao-da-descriptografia">A equa√ß√£o da descriptografia</a></li>
            </ul>
        </li>
    </ul>
</div>

<!-- inicio - Modal modo de criptografia simples -->
<div class="modal fade" id="modalModoCompleto" tabindex="-1" aria-labelledby="modalModoCompletoLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalModoCompletoLabel">Oque √© o modo de criptografia completo?</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>O modo de criptografia completo √© uma op√ß√£o mais avan√ßada em compara√ß√£o com o modo de criptografia simples. O modo completo engloba um conjunto de 92 caracteres, incluindo letras mai√∫sculas e min√∫sculas, n√∫meros, espa√ßos, pontua√ß√£o e caracteres especiais. Isso significa que a codifica√ß√£o √© capaz de fornecer uma maior seguran√ßa para as informa√ß√µes criptografadas, tornando-as mais dif√≠ceis de serem decodificadas ou acessadas por pessoas n√£o autorizadas. Diferente do modo de criptografia simples que utiliza apenas 26 letras maiusculas do alfabeto e mantem os espa√ßos.</p>
                <p>Al√©m disso, todos os caracteres da mensagem que n√£o perten√ßam aos 92 caracteres do conjunto de caracteres s√£o convertidos em seus respectivos c√≥digos hexadecimais e, em seguida, criptografados juntamente com a mensagem. Dessa forma, qualquer caractere do conjunto Unicode UTF-8, inclusive emojis, pode ser criptografado sem nenhum problema.</p>
                <p>Para ilustrar, a frase "Ol√° mundo! üòé" √© primeiro convertida em uma sequ√™ncia de c√≥digos Unicode, como "OlU+000E1 mundo! U+1F60E". Em seguida, essa sequ√™ncia √© criptografada. Para decodificar a mensagem, a sequ√™ncia de c√≥digos √© convertida novamente em caracteres, resultando na mensagem original "Ol√° mundo! üòé".</p>
                <p>Segue um exemplo do quadrado de Vigen√®re usando esses 92 caracteres:</p>
                <tabela-vigenere flUsarTabela="Completo"></tabela-vigenere>
            </div>
        </div>
    </div>
</div>
<!-- fim - Modal modo de criptografia simples -->
